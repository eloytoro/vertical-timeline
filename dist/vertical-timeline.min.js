angular.module("vertical-timeline",[]).directive("verticalTimeline",function(){return{templateUrl:"vertical-timeline/templates/vertical-timeline.html",transclude:!0,replace:!0,scope:{alias:"@?",drag:"=?"},controller:["$scope",function(e){var t=[],i=this;e.offset=0,this.subscribe=function(e){t.push(e),i.selected||(i.selected=e)},this.select=function(e){i.selected=e;for(var l,n=0;n<t.length;n++)if(t[n].$id==e.$id){l=n;break}i.scroll(-l*i.height)},this.scroll=function(l){l<=-i.height*t.length||(e.offset=l,e.offset>0&&(e.offset=0),e.containerStyle={top:e.offset+"px"})},this.find=function(e){return t.filter(e)[0]},this.getSelectedIndex=function(){for(var e,l=0;l<t.length;l++)if(t[l].$id==i.selected.$id){e=l;break}return e},this.scrollUp=function(){if(e.drag){var l=i.getSelectedIndex()+1;if(l==t.length)return;i.selected=t[l],i.scroll(-l*i.height)}else i.scroll(e.offset-i.height)},this.scrollDown=function(){if(e.drag){var l=i.getSelectedIndex();if(!l)return;i.selected=t[--l],i.scroll(-l*i.height)}else i.scroll(e.offset+i.height)}}],link:function(e,t,i,l){e.alias&&(e.$parent[e.alias]=l),t.bind("mousewheel",function(t){t.originalEvent.wheelDelta>0?l.scrollUp():l.scrollDown(),e.$apply()})}}}).directive("verticalTimelineItem",function(){return{templateUrl:"vertical-timeline/templates/vertical-timeline-item.html",require:"^verticalTimeline",replace:!0,transclude:!0,scope:{title:"=titleText",isodate:"=date",format:"@?"},link:function(e,t,i,l){e.ctrl=l,e.$watch("isodate",function(t){e.date=new Date(moment(t).utc().format("YYYY-M-D"))}),l.subscribe(e),e.select=function(){l.select(e)},l.height=t.find(".panel")[0].offsetHeight}}}),angular.module("vertical-timeline").run(["$templateCache",function(e){e.put("vertical-timeline/templates/vertical-timeline-item.html",'<div class="row">\n    <div class="panel panel-default">\n        <div class="panel-heading" ng-click="select()">\n            <span class="panel-title">\n                {{ title }} - {{ date | date: format || \'dd/MM/yyyy\' }}\n            </span>\n        </div>\n        <div class="panel-body"\n            ng-if="ctrl.selected.$id === $id"\n            ng-transclude>\n        </div>\n    </div>\n</div>\n'),e.put("vertical-timeline/templates/vertical-timeline.html",'<div class="vertical-timeline">\n    <div class="container-fluid vertical-timeline-box"\n        ng-style="containerStyle"\n        ng-transclude>\n    </div>\n</div>\n')}]);